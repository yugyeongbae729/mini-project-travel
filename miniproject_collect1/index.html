<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Web Template</title>
    <link rel="stylesheet" href="styles.css">

    <style>
        #main {
            display: flex;
            justify-content: center;
            flex-direction: column;

        }

        #rightsidebar {

            text-align: center;

        }

        #rightsidebar>h1 {
            width: 500px;

        }

        #body {
            background-image: url(./img/KakaoTalk_20240613_151352305.png);
            display: fixed;
            /* background-position: center center; */
            background-size: cover;
            padding-bottom: 200px;
            background-repeat: no-repeat;

            height: 210vh
        }

        #intro-text-container {
            /* margin-left: 750px; */
            margin-bottom: 50px;
            height: 45px;
        }

        #input-container {
            margin-left: 750px;
            margin-bottom: 20px;
        }

        /* 모달 스타일 추가 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
            text-align: center;
            background: linear-gradient(to right, #a8e6cf, #dcedc1);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
        }

        .modal-content h2 {
            color: #555;
        }

        .modal-content p {
            color: #333;
        }

        .modal-content button {
            background-color: #74b9ff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal-content button:hover {
            background-color: #0984e3;
        }

        @keyframes highlight {
            0% {
                transform: scale(1);
                color: #000;
            }

            100% {
                transform: scale(1.2);
                color: #2c45f4;
            }
        }

        .highlight {
            display: inline-block;
            animation: highlight 0.5s forwards;
        }

        #button {
            margin-top: 100px;
            display: fixed;



        }

        #input_text {
            height: 60px;
            width: 400px;
            border-radius: 20px;
            border-color: black;
            text-align: center;
            font-size: x-large;

        }

        #name {
            height: 150px;
            width: 200px;
            margin-top: 20px;
            font-size: medium;
            font-family: fantasy;
            /* font-weight: bolder; */
            width: 120px;
            height: 40px;
            color: #fff;
            background: #004fff;
            font-size: 16px;
            border: none;
            border-radius: 20px;
            box-shadow: 0 4px 16px rgba(0, 79, 255, 0.3);
            transition: 0.3s;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            /* border-style: groove; */
             }

             #button:focus{
                outline:0;
             }

        #name:hover {
            background: rgba(0, 79, 255, 0.9);
            cursor: pointer;
            box-shadow: 4px 50px 38px rgba(90, 132, 224, 0.6);
            
        }

        main>h1 {
            color: #2c45f4;
            text-align: center;
            font-family: 'TmoneyRoundWind';
        }

        #intro-text {
            margin-top: 180px;
        }

        #closeBtn>a {
            text-decoration: none;
        }


        #main>h1 {
            font-size: x-large;
        }
    </style>

</head>

<body id="body">
    <header>
        <div class="header-container">
            <a href="./index.html" class="logo-link">
                <img src="./img/allinone.png" alt="AllInOne Logo" class="logo" />
                <h1>올인원 팀</h1>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="./location.html" id="loca">지역별 여행지</a></li>
                <li><a href="./random.html">랜덤 추천</a></li>
                <li><a href="#contact">팀원 소개</a></li>
            </ul>
        </nav>
    </header>

    <main id="main">
        <h1>여행자분의 이름을 입력해주세요.</h1>
        <div id="rightsidebar">
            <div id="button">
                <input type="text" name="name" id="input_text">
                <br>
                <button id="name" value="입력하기!" type="button">입력하기</button>


            </div>
            <h3 id="intro-text">
                여행 계획 짜는 것이
                <br>번거로우신가요?
                <br>올인원 팀이 운영하는 이 웹사이트는 여러분의 편안한 여행을 위해 최고의 맛집, 항공권, 숙박 정보를 한 곳에서 추천해 드립니다.
                <br>지역별 여행지 추천은 물론, 랜덤 추천 기능으로 새로운 여행지를 발견할 수 있습니다.
                <br>믿을 수 있는 정보와 신뢰할 수 있는 파트너를 통해 여러분의 여행을 더욱 특별하게 만들어드립니다. 간단한 입력만으로 맞춤형 여행 계획을 세워보세요.
                <br>올인원 팀과 함께 스트레스 없는 여행을 즐기세요!
            </h3>
        </div>
    </main>
    <footer id="footer">
        <p>&copy; 2024 AllInOneTeam. All rights reserved.</p>
    </footer>

    <!-- 모달 HTML 추가 -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Welcome</h2>
            <p id="modal-text"></p>
            <button id="closeBtn">닫기</button>
        </div>
    </div>

    <script>
        const btn = document.getElementById("name");
        const name = document.getElementById("input_text");

        const modal = document.getElementById("myModal");
        const modalText = document.getElementById("modal-text");
        const span = document.querySelector(".close");
        const closeBtn = document.getElementById("closeBtn");

        btn.addEventListener("click", (e) => {
            const input_text = name.value.trim(); // 입력값 양쪽 공백 제거

            if (input_text === "") {
                e.preventDefault(); // 기본 동작(페이지 전환) 방지
                alert("닉네임을 입력하세요!");
            } else {
                sessionStorage.setItem("name", input_text);
                modalText.textContent = `${input_text} 님 환영합니다`;
                modal.style.display = "block";
            }
        });

        // 닉네임 입력 안하면 페이지 안넘어가게 
        document.getElementById("loca").addEventListener("click", (e) => {

            const input_text = document.getElementById("input_text").value;
            if (input_text == "") {
                e.preventDefault()
                alert("닉네임을 입력하세요!")
            }
        })

        span.addEventListener("click", () => {
            modal.style.display = "none";
        });

        closeBtn.addEventListener("click", () => {
            console.log("ss")
            modal.style.display = "none";
            location.href="./location.html"
        });

        window.addEventListener("click", (event) => {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        });

        // 소개글 애니메이션 적용
        const introText = document.getElementById("intro-text").innerHTML.split('<br>').map(line => line.trim());
        const introContainer = document.getElementById("intro-text");
        introContainer.innerHTML = ''; // 초기화

        let lineIndex = 0;

        function showNextLine() {
            if (lineIndex < introText.length) {
                const line = introText[lineIndex];
                const paragraph = document.createElement("p");
                paragraph.innerHTML = line;
                introContainer.appendChild(paragraph);

                const words = line.split(' ');
                words.forEach((word, i) => {
                    setTimeout(() => {
                        const newHtml = words.map((w, j) => j === i ? `<span class="highlight">${w}</span>` : w).join(' ');
                        paragraph.innerHTML = newHtml;
                    }, i * 500);
                });

                lineIndex++;
                setTimeout(showNextLine, words.length * 100 + 500); // 다음 줄로 넘어가기 전에 약간의 지연 시간 추가
            }
        }

        showNextLine(); // 애니메이션을 시작합니다

    </script>
</body>

</html>